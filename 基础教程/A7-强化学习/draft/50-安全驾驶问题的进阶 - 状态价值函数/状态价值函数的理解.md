
## 状态价值函数的理解


在醉汉回家的例子中，奖励函数可以有几种设计方式：

1. 对状态奖励：只有到达家的状态奖励 +1，其它状态都是 0。这样可以达到的效果是，一旦智能体跌跌撞撞地达到了一次家的状态，可以得到 +1 的奖励，它就会尝到甜头并牢记，在后面的学习中会不断强化这种记忆和过程。

2. 对过程奖励：每走一步都有 -1 的“奖励”，实际上是惩罚，实际上是鼓励智能体（一个还没有接受强化训练的智能体和醉汉没什么区别）尽快找到回家的路，最后累计的负值越小越好。



<center>
<img src="./img/RandomWalker-1.png">

图 1 醉汉回家
</center>

```Python
class States(Enum):
    Start = 0
    A = 1
    B = 2
    C = 3
    D = 4
    Home = 6
    End = 7

P = np.array(
    [  # S    A    B    C    D    H    end   
        [0.5, 0.5, 0,   0,   0  , 0  , 0  ], # S
        [0.5, 0,   0.5, 0,   0,   0,   0  ], # A
        [0,   0.5, 0,   0.5, 0,   0,   0  ], # B
        [0,   0,   0.5, 0,   0.5, 0,   0  ], # C
        [0,   0,   0,   0.5, 0,   0.5, 0  ], # D
        [0,   0,   0,   0,   0,   0,   1.0], # Home
        [0,   0,   0,   0,   0,   0,   0  ], # end
])
```

```Python
# 状态奖励值
#     S, A, B, C, D, H, e
R1 = [0, 0, 0, 0, 0, 1, 0]
```

<center>
<img src="./img/RandomWalker-2.png">

图 2 醉汉回家
</center>

<center>
<img src="./img/RandomWalker-3.png">

图 3 醉汉回家
</center>

